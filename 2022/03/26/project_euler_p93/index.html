<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.97.3"><title>Project Euler - Problem 93 &#183; Kendra Creates</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=https://kpendolino.github.io/KendraCreates/css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://kpendolino.github.io/KendraCreates/css/side-menu.css><!--<![endif]--><link rel=stylesheet href=https://kpendolino.github.io/KendraCreates/css/blackburn.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel=stylesheet type=text/css><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css><script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script><link rel="shortcut icon" href=https://kpendolino.github.io/KendraCreates/img/favicon.ico type=image/x-icon><link rel=stylesheet href=https://kpendolino.github.io/KendraCreates/css/kendra.css><link rel=stylesheet href=https://kpendolino.github.io/KendraCreates/css/syntax.css></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><a class="pure-menu-heading brand" href=https://kpendolino.github.io/KendraCreates/>Kendra Creates</a><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=https://kpendolino.github.io/KendraCreates/><i class="fa fa-home fa-fw"></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://kpendolino.github.io/KendraCreates/post/><i class="fa fa-list fa-fw"></i>Posts</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://kpendolino.github.io/KendraCreates/tags/><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://kpendolino.github.io/KendraCreates/about/><i class="fa fa-user fa-fw"></i>&nbsp;About</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://kpendolino.github.io/KendraCreates/cv/><i class="fas fa-award"></i>&nbsp;Curriculum Vitae</a></li><li class=pure-menu-item id=js-toggle><a class=pure-menu-link><i class="fas fa-moon" id=toggle-icon></i>&nbsp; <span id=dark-mode-label>Dark Mode</span></a></li><script>var lightModeIcon="fas fa-sun",darkModeIcon="fas fa-moon",lightModeLabel="Light Mode",darkModeLabel="Dark Mode",body=document.body,switcher=document.getElementById("js-toggle");switcher.addEventListener("click",function(){var e=document.getElementById("toggle-icon"),t=document.getElementById("dark-mode-label");this.classList.toggle("js-toggle--checked"),this.classList.add("js-toggle--focus"),this.classList.contains("js-toggle--checked")?(body.classList.add("dark-mode"),localStorage.setItem("darkMode","true"),t.innerHTML=lightModeLabel,e.className=lightModeIcon):(body.classList.remove("dark-mode"),setTimeout(function(){localStorage.removeItem("darkMode")},100),t.innerHTML=darkModeLabel,e.className=darkModeIcon)}),localStorage.getItem("darkMode")&&(switcher.classList.add("js-toggle--checked"),body.classList.add("dark-mode"),label.innerHTML=lightModeLabel,icon.className=lightModeIcon)</script></ul></div><div class="pure-menu social"><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=https://twitter.com/kpendolino rel=me target=_blank><i class="fab fa-twitter-square fa-fw"></i>Twitter</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://linkedin.com/in/kendra-pendolino-a56543a2 rel=me target=_blank><i class="fab fa-linkedin fa-fw"></i>LinkedIn</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://github.com/kpendolino rel=me target=_blank><i class="fab fa-github-square fa-fw"></i>GitHub</a></li></ul></div><div><div class=small-print><small>&copy; Kendra Pendolino 2022</small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a><br></small><small>Based on &nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a><br></small><small>Customized by &nbsp;<a href=https://github.com/kpendolino>Kendra</a><br></small><small>Cover art <a href=https://prints.larasantaella.es/>Lara Santaella</a></small></div></div></div><div id=main><section id=cover></section><div class=header><h1>Project Euler - Problem 93</h1><h2></h2></div><div class=content><div class=post-meta><div>âœ¿&nbsp;&nbsp;
<time>Mar 26, 2022</time></div><div><i class="fa fa-tags fa-fw"></i>
<a class=post-taxonomy-tag href=https://kpendolino.github.io/KendraCreates/tags/python>python</a></div></div><p>Emboldened by my recent completion of Project Euler 96, I decided to take a crack at another problem: <a href="https://projecteuler.net/problem=93">Problem 93</a>. You can read the full text of the problem at the link above, but the gist of it is this: working with a set of four distinct individual digits, arranged in any order, with any combination of parentheses and basic mathematical operations (+, -, /, *), which combination of digits can form the longest string of consecutive positive integers from 1 to <em>n</em> before reaching an integer that can&rsquo;t be formed using those digits?</p><p>I want to caveat this right up front and say that I wasn&rsquo;t concerned with efficiency for this problem - my code ran quickly enough that I only made a few small tweaks to make it go faster. So this may not be the fastest or most elegant solution, but it worked!</p><h1 id=spoilers-ahead>Spoilers Ahead</h1><p>This post contains spoilers for Problem 93. I strongly encourage you to try solving it for yourself before reading on - or at least put together a rough sketch of what approach you&rsquo;d take!</p><h1 id=my-approach>My Approach</h1><p>At a high level, my approach looks like this:</p><ul><li>Create a list of lists of digits</li><li>For each list of digits, create a list of all possible orders of those digits</li><li>Create a list of all possible combinations of operations - three unique operations per expression</li><li>Create a list of all meaningful combinations of parentheses</li><li>For each combination of digits, iterate over each possible order, set of operations, and parentheses, calculate the value of the expression, and add that to a set</li><li>Once that&rsquo;s all finished, check each set for consecutive digits from 1 to <em>n</em>, and find the digit combination that reached the highest value of <em>n</em> before reaching an unexpressible term</li></ul><p>So, let&rsquo;s take a look at some of the code I used to do this.</p><h2 id=basic-setup>Basic Setup</h2><p>Here we&rsquo;ll look at the basic functions that I set up to solve this problem.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>op</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;+&#34;</span><span class=p>,</span><span class=s2>&#34;-&#34;</span><span class=p>,</span><span class=s2>&#34;*&#34;</span><span class=p>,</span><span class=s2>&#34;/&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>p_op</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;*&#39;</span><span class=p>,</span><span class=s1>&#39;/&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_ops</span><span class=p>(</span><span class=n>op</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>ops</span><span class=o>=</span><span class=p>[[</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>]</span> <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=n>op</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>op</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>op</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>ops</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ops</span><span class=o>=</span><span class=n>get_ops</span><span class=p>(</span><span class=n>op</span><span class=p>)</span>
</span></span></code></pre></div><p>I started by defining a <code>op</code>, a list of the possible operators. I also defined a smaller list, <code>p_op</code>, which contains operators that require me to reevaluate the parentheses. I&rsquo;ll come back to this idea later, but the short version is that I made sure that the order of operations is respected by adding implied parentheses around multiplication and division operations. Finally, <code>get_ops(op)</code> just returns a list of all possible orders of operators. The problem allows any selection of these operators, so <code>a + b + c + d</code> is just as valid as <code>a * b + c - d</code>. This code considers every possibility.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_digits</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=c1>#return[[1,2,3,4]] test case</span>
</span></span><span class=line><span class=cl>  <span class=n>dig</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=n>l</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=mi>10</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=n>l</span><span class=p>):</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>k</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>j</span><span class=p>):</span>
</span></span><span class=line><span class=cl>          <span class=n>dig</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=n>k</span><span class=p>,</span><span class=n>l</span><span class=p>])</span>
</span></span><span class=line><span class=cl>  <span class=c1>#print(dig)</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>dig</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>digits</span><span class=o>=</span><span class=n>get_digits</span><span class=p>()</span>
</span></span></code></pre></div><p>Up next, setting up <code>get_digits()</code> to generate the combinations of digits. Initially I had this set to just return <code>[1,2,3,4]</code> so I could focus on making sure everything else was working - once I was getting the expected results with <code>[1,2,3,4]</code>, I went back and fleshed out the rest of this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#returns list of list of digits a,b,c,d in every possible order</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>scramble</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>d</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>list</span><span class=o>=</span><span class=p>[</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>d</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>orders</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=p>[</span><span class=n>j</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>list</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>j</span><span class=o>==</span><span class=n>i</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=p>[</span><span class=n>k</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>list</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>k</span><span class=o>==</span><span class=n>i</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>k</span><span class=o>==</span><span class=n>j</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>l</span><span class=o>=</span><span class=p>[</span><span class=n>l</span> <span class=k>for</span> <span class=n>l</span> <span class=ow>in</span> <span class=nb>list</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>l</span><span class=o>==</span><span class=n>i</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>l</span><span class=o>==</span><span class=n>j</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>l</span><span class=o>==</span><span class=n>k</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>orders</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=n>k</span><span class=p>,</span><span class=n>l</span><span class=p>])</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>orders</span>
</span></span></code></pre></div><p>The <code>scramble(a,b,c,d)</code> method does exactly what it sounds like - it takes the digits <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code> and returns each possible order they can appear in.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#returns list of parenthesis combinations like &#39;&#39;, &#39;ab&#39;, &#39;abc&#39;, &#39;abc,ab&#39;</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_paren</span><span class=p>():</span> 
</span></span><span class=line><span class=cl>  <span class=n>paren</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>  <span class=n>none</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>twos</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;ab&#34;</span><span class=p>,</span><span class=s2>&#34;bc&#34;</span><span class=p>,</span><span class=s2>&#34;cd&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>twopairs</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;ab,cd&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>threes</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span><span class=s2>&#34;bcd&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>paren</span><span class=o>+=</span><span class=n>none</span>
</span></span><span class=line><span class=cl>  <span class=n>paren</span><span class=o>+=</span><span class=n>twos</span>
</span></span><span class=line><span class=cl>  <span class=n>paren</span><span class=o>+=</span><span class=n>twopairs</span>
</span></span><span class=line><span class=cl>  <span class=n>paren</span><span class=o>+=</span><span class=n>threes</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=n>tri</span> <span class=ow>in</span> <span class=n>threes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>paren</span><span class=o>+=</span><span class=p>[</span><span class=n>duo</span><span class=o>+</span><span class=s2>&#34;,&#34;</span><span class=o>+</span><span class=n>tri</span> <span class=k>for</span> <span class=n>duo</span> <span class=ow>in</span> <span class=n>twos</span> <span class=k>if</span> <span class=n>duo</span> <span class=ow>in</span> <span class=n>tri</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=c1>#print(paren)</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>paren</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>parens</span><span class=o>=</span><span class=n>get_paren</span><span class=p>()</span>
</span></span></code></pre></div><p>And here is where I put together the base list of distinct parenthesis possibilities. I was intially trying to think of a way to generate this list more programatically, like generating lists of possible positions in the equation where the left and right parentheses could go, but I ended up just manually creating the list instead. In the <code>for tri in threes</code> loop, I cover situations that look like this: <code>a + (b * (c - d))</code> - this is represented as <code>"cd,bcd"</code>: &ldquo;do the operation of <code>c</code> and <code>d</code> first, then do the operation betwen <code>b</code> and <code>cd</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>op_paren</span><span class=p>(</span><span class=n>op</span><span class=p>,</span><span class=n>paren</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=s1>&#39;*&#39;</span> <span class=ow>in</span> <span class=n>op</span> <span class=ow>or</span> <span class=s1>&#39;/&#39;</span> <span class=ow>in</span> <span class=n>op</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#need to adjust parentheses</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>op</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=ow>in</span> <span class=n>p_op</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=c1>#ab is the first</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;ab&#39;</span><span class=p>,</span><span class=s1>&#39;ab,cd&#39;</span><span class=p>,</span><span class=s1>&#39;ab,abc&#39;</span><span class=p>,</span><span class=s1>&#39;bcd&#39;</span><span class=p>,</span><span class=s1>&#39;bc,bcd&#39;</span><span class=p>,</span><span class=s1>&#39;cd,bcd&#39;</span><span class=p>,</span><span class=s1>&#39;bc,abc&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span> <span class=c1>#this is already captured in the parens</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;&#39;</span><span class=p>:</span><span class=n>paren</span><span class=o>=</span><span class=s1>&#39;ab&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;cd&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;ab,cd&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;abc&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;ab,abc&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bc&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;bc,abc&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>op</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=ow>in</span> <span class=n>p_op</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=c1>#bc is included</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;bc&#39;</span><span class=p>,</span><span class=s1>&#39;bc,abc&#39;</span><span class=p>,</span><span class=s1>&#39;bc,bcd&#39;</span><span class=p>,</span><span class=s1>&#39;ab,cd&#39;</span><span class=p>,</span><span class=s1>&#39;ab,abc&#39;</span><span class=p>,</span><span class=s1>&#39;cd,bcd&#39;</span><span class=p>]:</span> <span class=k>pass</span> <span class=c1>#it&#39;s already included</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;bc&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;ab&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;ab,abc&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;cd&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;cd,bcd&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;abc&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;bc,abc&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bcd&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;bc,bcd&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span> <span class=c1>#cd is included</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;cd&#39;</span><span class=p>,</span><span class=s1>&#39;ab,cd&#39;</span><span class=p>,</span><span class=s1>&#39;cd,bcd&#39;</span><span class=p>,</span><span class=s1>&#39;abc&#39;</span><span class=p>,</span><span class=s1>&#39;ab,abc&#39;</span><span class=p>,</span><span class=s1>&#39;bc,abc&#39;</span><span class=p>,</span><span class=s1>&#39;bc,bcd&#39;</span><span class=p>]:</span> <span class=k>pass</span> <span class=c1>#it&#39;s already included</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;&#39;</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>        <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;cd&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;ab&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;ab,cd&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bc&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;bc,bcd&#39;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bcd&#39;</span><span class=p>:</span> <span class=n>paren</span><span class=o>=</span><span class=s1>&#39;cd,bcd&#39;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>paren</span>
</span></span></code></pre></div><p>The <code>op_paren(op,paren)</code> method revises the parentheses to include any implied parentheses. This is to cover the fact that multiplication and division happens before addition or subtraction, so <code>a + b * c - d</code> is calculated as <code>a + (b * c) - d</code>. First I check whether the list of operations <code>op</code> has any <code>'*'</code> or <code>'/'</code> operators in it. Then I handle those operators left to right.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>operate</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>op</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>op</span><span class=o>==</span><span class=s2>&#34;+&#34;</span><span class=p>:</span> <span class=k>return</span> <span class=n>a</span><span class=o>+</span><span class=n>b</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>op</span><span class=o>==</span><span class=s2>&#34;-&#34;</span><span class=p>:</span> <span class=k>return</span> <span class=n>a</span><span class=o>-</span><span class=n>b</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>op</span><span class=o>==</span><span class=s2>&#34;*&#34;</span><span class=p>:</span> <span class=k>return</span> <span class=n>a</span><span class=o>*</span><span class=n>b</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>op</span><span class=o>==</span><span class=s2>&#34;/&#34;</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>b</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span> <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>/</span><span class=n>b</span>
</span></span></code></pre></div><p>Last but not least for the setup phase, I needed <code>operate(a,b,op)</code>. This method takes a pair of digits (or a digit and its neighboring combination) and performs the operation between them. Full disclosure, I totally forgot to include <code>if b==0: return False</code> at first. 0 isn&rsquo;t one of the digits that we were working with, but it&rsquo;s definitely possible for an intermediate step to produce something like this: <code>2 / (1 - (4 - 3))</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>expr</span><span class=p>(</span><span class=n>order</span><span class=p>,</span><span class=n>paren</span><span class=p>,</span><span class=n>op</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>expr</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>%d</span><span class=s2> </span><span class=si>%s</span><span class=s2> </span><span class=si>%d</span><span class=s2> </span><span class=si>%s</span><span class=s2> </span><span class=si>%d</span><span class=s2> </span><span class=si>%s</span><span class=s2> </span><span class=si>%d</span><span class=s2>&#34;</span><span class=o>%</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span><span class=n>j</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span><span class=n>k</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span><span class=n>l</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;&#39;</span><span class=p>:</span> <span class=k>return</span> <span class=n>expr</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;ab&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span> <span class=o>=</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span><span class=o>+</span> <span class=s2>&#34;)&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>5</span><span class=p>:]</span> 
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bc&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span> <span class=o>=</span> <span class=n>expr</span><span class=p>[:</span><span class=mi>4</span><span class=p>]</span><span class=o>+</span><span class=s2>&#34;(&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>4</span><span class=p>:</span><span class=mi>9</span><span class=p>]</span><span class=o>+</span><span class=s2>&#34;)&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>9</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;cd&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span> <span class=n>expr</span><span class=p>[:</span><span class=mi>8</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>8</span><span class=p>:]</span> <span class=o>+</span> <span class=s2>&#34;)&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;ab,cd&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span><span class=s2>&#34;(&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span><span class=o>+</span><span class=s2>&#34;)&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>5</span><span class=p>:</span><span class=mi>8</span><span class=p>]</span><span class=o>+</span><span class=s2>&#34;(&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>8</span><span class=p>:]</span><span class=o>+</span><span class=s2>&#34;)&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;abc&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span> <span class=o>=</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[:</span><span class=mi>9</span><span class=p>]</span><span class=o>+</span> <span class=s2>&#34;)&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>9</span><span class=p>:]</span> 
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bcd&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span> <span class=o>=</span> <span class=n>expr</span><span class=p>[:</span><span class=mi>4</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>4</span><span class=p>:]</span><span class=o>+</span> <span class=s2>&#34;)&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;ab,abc&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span><span class=s2>&#34;((&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;)&#34;</span> <span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>5</span><span class=p>:</span><span class=mi>9</span><span class=p>]</span><span class=o>+</span> <span class=s2>&#34;)&#34;</span> <span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>9</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bc,abc&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span><span class=s2>&#34;(&#34;</span><span class=o>+</span><span class=n>expr</span><span class=p>[:</span><span class=mi>4</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>4</span><span class=p>:</span><span class=mi>9</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;))&#34;</span> <span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>9</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;bc,bcd&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span><span class=n>expr</span><span class=p>[:</span><span class=mi>4</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;((&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>4</span><span class=p>:</span><span class=mi>9</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;)&#34;</span> <span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>9</span><span class=p>:]</span><span class=o>+</span> <span class=s2>&#34;)&#34;</span>   
</span></span><span class=line><span class=cl>  <span class=k>elif</span> <span class=n>paren</span><span class=o>==</span><span class=s1>&#39;cd,bcd&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>expr</span><span class=o>=</span><span class=n>expr</span><span class=p>[:</span><span class=mi>4</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>expr</span><span class=p>[</span><span class=mi>4</span><span class=p>:</span><span class=mi>8</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;(&#34;</span> <span class=o>+</span><span class=n>expr</span><span class=p>[</span><span class=mi>8</span><span class=p>:]</span><span class=o>+</span> <span class=s2>&#34;))&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>expr</span> 
</span></span></code></pre></div><p>Again, in full disclosure: I did not plan on needing an <code>expr(order,paren,op)</code> method. I don&rsquo;t always know what kind of support functions I&rsquo;ll need to make troubleshooting easier, but I really did need this. This takes the <code>order</code>, <code>paren</code>, and <code>op</code> that are currently being considered and prints it out in a human-readable format like <code>2 / (1 - (4 - 3))</code>. I&rsquo;ll talk more about how and why I needed this shortly.</p><h2 id=putting-it-all-together>Putting It All Together</h2><p>This set of nested loops is where all the magic happens:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>results</span><span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>n</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>dig</span> <span class=ow>in</span> <span class=n>digits</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span><span class=o>=</span><span class=n>dig</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>b</span><span class=o>=</span><span class=n>dig</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>c</span><span class=o>=</span><span class=n>dig</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>d</span><span class=o>=</span><span class=n>dig</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>s_dig</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>%d%d%d%d</span><span class=s2>&#34;</span><span class=o>%</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>results</span><span class=p>[</span><span class=n>s_dig</span><span class=p>]</span><span class=o>=</span><span class=nb>set</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>orders</span><span class=o>=</span><span class=n>scramble</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=n>order</span> <span class=ow>in</span> <span class=n>orders</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span><span class=o>=</span><span class=n>order</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>j</span><span class=o>=</span><span class=n>order</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>k</span><span class=o>=</span><span class=n>order</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>l</span><span class=o>=</span><span class=n>order</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>paren</span> <span class=ow>in</span> <span class=n>parens</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=n>op</span> <span class=ow>in</span> <span class=n>ops</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>op</span><span class=o>==</span><span class=p>[</span><span class=s1>&#39;+&#39;</span><span class=p>,</span><span class=s2>&#34;+&#34;</span><span class=p>,</span><span class=s2>&#34;+&#34;</span><span class=p>]</span> <span class=ow>or</span> <span class=n>op</span><span class=o>==</span><span class=p>[</span><span class=s2>&#34;*&#34;</span><span class=p>,</span><span class=s2>&#34;*&#34;</span><span class=p>,</span><span class=s2>&#34;*&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>paren</span><span class=o>!=</span><span class=s2>&#34;&#34;</span><span class=p>:</span> <span class=k>continue</span> <span class=c1># parentheses don&#39;t matter if they&#39;re all + or all *</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>order</span><span class=o>!=</span><span class=n>orders</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span> <span class=k>continue</span> <span class=c1>#order doesn&#39;t matter if they&#39;re all + or all *</span>
</span></span><span class=line><span class=cl>        <span class=c1># Have a unique order of digits, parentheses, operators</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print(expr(order,paren,op))</span>
</span></span><span class=line><span class=cl>        <span class=n>orig_paren</span><span class=o>=</span><span class=n>paren</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>paren</span><span class=o>=</span><span class=n>op_paren</span><span class=p>(</span><span class=n>op</span><span class=p>,</span><span class=n>paren</span><span class=p>)</span> <span class=c1>#revise for order of operations</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>paren</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span><span class=s1>&#39;ab&#39;</span><span class=p>,</span><span class=s1>&#39;ab,abc&#39;</span><span class=p>,</span><span class=s1>&#39;abc&#39;</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>          <span class=c1># do them in order</span>
</span></span><span class=line><span class=cl>          <span class=n>ij</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>ij</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>          <span class=n>ijk</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>ij</span><span class=p>,</span><span class=n>k</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>ijk</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>          <span class=n>ijkl</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>ijk</span><span class=p>,</span><span class=n>l</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>ijkl</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>ijkl</span><span class=o>&gt;</span><span class=mi>0</span> <span class=ow>and</span> <span class=n>ijkl</span><span class=o>==</span><span class=nb>int</span><span class=p>(</span><span class=n>ijkl</span><span class=p>):</span>
</span></span><span class=line><span class=cl>          <span class=n>results</span><span class=p>[</span><span class=n>s_dig</span><span class=p>]</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>ijkl</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=c1>#inpt=input(&#34;%s = %d&#34;%(expr,int(ijkl)))</span>
</span></span><span class=line><span class=cl>          <span class=c1>#if order==[2,3,4,1] and op==[&#39;*&#39;,&#39;*&#39;,&#39;-&#39;] and orig_paren==&#39;&#39;:</span>
</span></span><span class=line><span class=cl>          <span class=c1>#  input(&#34;[%d] %s = %s = %d&#34;%(n, expr(order,orig_paren,op), expr(order,paren,op), ijkl))</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>
</span></span></code></pre></div><p>This code starts with a set of digits from <code>digits</code>. Then it finds the different possible <code>orders</code> of those digits. We use nested loops to iterate over every combination of <code>order</code>, operations (<code>op</code>), and parentheses (<code>paren</code>). After the list of operators is picked, I do a quick check to see if this is a redundant calculation. If all of the operators are <code>'+'</code> or if all are <code>'*'</code>, then it doesn&rsquo;t matter what order the digits are in or what parentheses are present, so I make sure to only handle that situation once.</p><p>Next, we revise the parentheses and then actually do the operations. I use a collection of <code>if</code> and <code>elif</code> blocks to handle groups of parentheses that are equivalent in terms of processing order. After each step, I check to see if <code>operate</code> returned <code>False</code>, which would indicate that we&rsquo;ve just divided by zero. In hindsight, I could have just done this once after processing all operations, since with distinct digits, it should be impossible to end up with a 0 until the last step. The <code>...</code> represents the group of <code>elif</code> blocks that handle other processing orders - we&rsquo;ll come back to these in a moment.</p><p>You may be wondering about the last block of code here. This is how I save the results and handle debugging. The <code>results[s_dig].add(int(ijkl))</code> line is the only piece of that if statement that is required to solve the problem - the rest of it (when not commented out) lets me step through each completed calculation one by one to double-check it manually. I set up a counter <code>n</code> so that once I knew the first <code>n</code> calculations were working as expected, I could skip over those the next time I run my code.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>paren</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;ab,cd&#39;</span><span class=p>,</span><span class=s1>&#39;cd&#39;</span><span class=p>]:</span> 
</span></span><span class=line><span class=cl>          <span class=c1># ij,kl,ijkl</span>
</span></span><span class=line><span class=cl>          <span class=n>ij</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>ij</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>          <span class=n>kl</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>k</span><span class=p>,</span><span class=n>l</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>kl</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>          <span class=n>ijkl</span><span class=o>=</span><span class=n>operate</span><span class=p>(</span><span class=n>ij</span><span class=p>,</span><span class=n>kl</span><span class=p>,</span><span class=n>op</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=n>ijkl</span><span class=o>==</span><span class=kc>False</span><span class=p>:</span> <span class=k>continue</span>
</span></span></code></pre></div><p>I&rsquo;m not going to share each of the <code>elif</code> blocks, but I did want to share one of them to highlight a silly mistake I initially made. You can see here that this is for processing expressions that look like <code>(a ? b) ? (c ? d)</code> or <code>a ? b ? (c ? d)</code>, so first we combine the first two terms, then the last two, and then do the operation between those two. When I had the <code>if</code> block working properly, I used copy/paste to set up the rest of them and just tweaked the letters involved. But I totally forgot to revise the operator that was being used, so no matter what the order was, I was always using the first operator for the first operation - even if that operation was the last two digits!</p><p>When I first ran my code to check whether <code>[1,2,3,4]</code> gave the expected results, I was confused. This set of digits was supposed to get up to 28 before reaching a value that couldn&rsquo;t be formed as an expression using those four digits, but in my code, 22 and 23 were missing. I manually thought of a combination that would generate one of those values: <code>2 * 3 * 4 - 1 = 23</code>. That allowed me to realize that I had initially been ending my <code>scramble</code> function too soon, as I had mistakenly put the <code>return</code> statement inside the loop that picks the first digit, so I was considering only orders that began with <code>1</code>. Once that was fixed, the code was good to go.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>lengths</span><span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=mi>1</span> <span class=ow>in</span> <span class=n>results</span><span class=p>[</span><span class=n>key</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>n</span><span class=o>+</span><span class=mi>1</span> <span class=ow>in</span> <span class=n>results</span><span class=p>[</span><span class=n>key</span><span class=p>]:</span> <span class=n>n</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>lengths</span><span class=p>[</span><span class=n>key</span><span class=p>]</span><span class=o>=</span><span class=n>n</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>lengths</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>([</span><span class=n>key</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>lengths</span> <span class=k>if</span> <span class=n>lengths</span><span class=p>[</span><span class=n>key</span><span class=p>]</span><span class=o>==</span><span class=nb>max</span><span class=p>([</span><span class=n>lengths</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>lengths</span><span class=p>])])</span>
</span></span></code></pre></div><p>Last but not least, it&rsquo;s time to check out how long of a string of consecutive positive integers each set of digits can produce. So I go through all sets of digits tested, check how many consecutive values there are, and print out the key that produced the maximum length. I won&rsquo;t spoil the answer here, but that set of digits produced all positive integers from 1 to 51 before getting to the first positive integer it couldn&rsquo;t express.</p><p>That&rsquo;s all for today - thanks for joining this exploration of my solution to Problem 93!</p><h4><i class="fas fa-share-alt" aria-hidden=true></i>&nbsp;Share!</h4><ul class=share-buttons><li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook" aria-hidden=true></i><span class=sr-only>Share on Facebook</span></a></li>&nbsp;&nbsp;&nbsp;<li><a href="https://twitter.com/intent/tweet?source=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title=Tweet><i class="fab fa-twitter" aria-hidden=true></i><span class=sr-only>Tweet</span></a></li>&nbsp;&nbsp;&nbsp;<li><a href="https://plus.google.com/share?url=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title="Share on Google+"><i class="fab fa-google-plus" aria-hidden=true></i><span class=sr-only>Share on Google+</span></a></li>&nbsp;&nbsp;&nbsp;<li><a href="http://www.tumblr.com/share?v=3&u=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title="Post to Tumblr"><i class="fab fa-tumblr" aria-hidden=true></i><span class=sr-only>Post to Tumblr</span></a></li>&nbsp;&nbsp;&nbsp;<li><a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title="Pin it"><i class="fab fa-pinterest-p" aria-hidden=true></i><span class=sr-only>Pin it</span></a></li>&nbsp;&nbsp;&nbsp;<li><a href="http://www.reddit.com/submit?url=https%3a%2f%2fkpendolino.github.io%2fKendraCreates%2f2022%2f03%2f26%2fproject_euler_p93%2f" target=_blank title="Submit to Reddit"><i class="fab fa-reddit-alien" aria-hidden=true></i><span class=sr-only>Submit to Reddit</span></a></li></ul><style>ul.share-buttons{list-style:none;padding:0}ul.share-buttons li{display:inline}ul.share-buttons .sr-only{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}</style><div class="prev-next-post pure-g"><div class=pure-u-1-24 style=text-align:left><a href=https://kpendolino.github.io/KendraCreates/2022/03/24/sudoku_solver5/><i class="fa fa-chevron-left"></i></a></div><div class=pure-u-10-24><nav class=prev><a href=https://kpendolino.github.io/KendraCreates/2022/03/24/sudoku_solver5/>Sudoku Solver - Day 5</a></nav></div><div class=pure-u-2-24>&nbsp;</div><div class=pure-u-10-24><nav class=next><a href=https://kpendolino.github.io/KendraCreates/2022/03/27/swedish_weaving/>Swedish Weaving</a></nav></div><div class=pure-u-1-24 style=text-align:right><a href=https://kpendolino.github.io/KendraCreates/2022/03/27/swedish_weaving/><i class="fa fa-chevron-right"></i></a></div></div></div></div></div><script src=https://kpendolino.github.io/KendraCreates/js/ui.js></script>
<script src=https://kpendolino.github.io/KendraCreates/js/menus.js></script></body></html>